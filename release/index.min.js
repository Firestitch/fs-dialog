!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/material/dialog"),require("rxjs/add/observable/of"),require("rxjs/add/operator/switchMap"),require("rxjs/Observable"),require("@angular/forms"),require("rxjs/operators"),require("@angular/common"),require("@angular/material")):"function"==typeof define&&define.amd?define("@firestitch/fs-dialog",["@angular/core","@angular/material/dialog","rxjs/add/observable/of","rxjs/add/operator/switchMap","rxjs/Observable","@angular/forms","rxjs/operators","@angular/common","@angular/material"],e):"object"==typeof exports?exports["@firestitch/fs-dialog"]=e(require("@angular/core"),require("@angular/material/dialog"),require("rxjs/add/observable/of"),require("rxjs/add/operator/switchMap"),require("rxjs/Observable"),require("@angular/forms"),require("rxjs/operators"),require("@angular/common"),require("@angular/material")):t["@firestitch/fs-dialog"]=e(t["@angular/core"],t["@angular/material/dialog"],t["rxjs/add/observable/of"],t["rxjs/add/operator/switchMap"],t["rxjs/Observable"],t["@angular/forms"],t["rxjs/operators"],t["@angular/common"],t["@angular/material"])}("undefined"!=typeof self?self:this,function(t,e,o,n,r,a,i,s,l){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s="./index.ts")}({"./configs/fsprompt-confirm.config.ts":function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.applyConfig=function(e){t.prototype.applyConfig.call(this,e),e.title||(e.title="Confirm"),e.class||(e.class="fs-modal-confirm")},e.prototype.applyDialogConfig=function(e){t.prototype.applyDialogConfig.call(this,e);var o=e.dialogConfig;o&&void 0!==o.width||(this._dialogConfig.width="250px")},e}(o("./configs/fsprompt.config.ts").FsPromptConfig);e.FsPromptConfirmConfig=r},"./configs/fsprompt.config.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.config=t,this.title="",this.template="",this.hint="",this.label="",this.class="",this.commitLabel="Ok",this.cancelLabel="Cancel",this.values=[],this._defaultDialogConfig={width:"500px",heigth:"auto"},this.applyDialogConfig(t),this.applyConfig(t)}return Object.defineProperty(t.prototype,"dialogConfig",{get:function(){var t=Object.assign({},this._dialogConfig);return t.data={title:this.title,template:this.template,hint:this.hint,label:this.label,class:this.class,commitLabel:this.commitLabel,cancelLabel:this.cancelLabel,values:this.values},t},enumerable:!0,configurable:!0}),t.prototype.applyConfig=function(t){Object.assign(this,t)},t.prototype.applyDialogConfig=function(t){var e=t.dialogConfig;this._dialogConfig=Object.assign({},this._defaultDialogConfig),e&&Object.assign(this._dialogConfig,e),t.class&&(this._dialogConfig.panelClass=t.class)},t}();e.FsPromptConfig=n},"./configs/index.ts":function(t,e,o){"use strict";function n(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}Object.defineProperty(e,"__esModule",{value:!0}),n(o("./configs/fsprompt.config.ts")),n(o("./configs/fsprompt-confirm.config.ts"))},"./fs-confirm/fs-confirm.component.html":function(t,e){t.exports='<h2 mat-dialog-title>{{data.title}}</h2>\r\n<mat-dialog-content tabindex="-1">\r\n  {{data.template}}\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions align="end">\r\n  <button mat-button [mat-dialog-close]="false">{{data.cancelLabel}}</button>\r\n  <button mat-button [mat-dialog-close]="true">{{data.commitLabel}}</button>\r\n</mat-dialog-actions>\r\n'},"./fs-confirm/fs-confirm.component.ts":function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(o,n){e(o,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var i=o("@angular/core"),s=o("@angular/material/dialog"),l=function(){function t(t,e){this.dialogRef=t,this.data=e}return t=n([i.Component({selector:"fs-confirm",template:o("./fs-confirm/fs-confirm.component.html")}),a(1,i.Inject(s.MAT_DIALOG_DATA)),r("design:paramtypes",[s.MatDialogRef,Object])],t)}();e.FsConfirmComponent=l},"./fs-confirm/index.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}(o("./fs-confirm/fs-confirm.component.ts"))},"./fs-dialog.module.ts":function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(e,"__esModule",{value:!0});var r=o("@angular/core"),a=o("@angular/common"),i=o("@angular/forms"),s=o("@angular/material"),l=o("./fs-confirm/index.ts"),c=o("./fs-input/index.ts"),p=o("./fs-prompt-select/index.ts"),f=o("./fsprompt.service.ts"),u=o("./fs-prompt-autocomplete/index.ts"),m=function(){function t(){}return e=t,t.forRoot=function(){return{ngModule:e,providers:[f.FsPrompt]}},t=e=n([r.NgModule({imports:[a.CommonModule,i.FormsModule,i.ReactiveFormsModule,s.MatDialogModule,s.MatButtonModule,s.MatInputModule,s.MatFormFieldModule,s.MatSelectModule,s.MatAutocompleteModule],entryComponents:[l.FsConfirmComponent,c.FsInputComponent,p.FsPromptSelectComponent,u.FsPromptAutocompleteComponent],declarations:[l.FsConfirmComponent,c.FsInputComponent,p.FsPromptSelectComponent,u.FsPromptAutocompleteComponent],providers:[f.FsPrompt]})],t);var e}();e.FsDialogModule=m},"./fs-input/fs-input.component.html":function(t,e){t.exports='<h2 mat-dialog-title>{{data.title}}</h2>\r\n<mat-dialog-content tabindex="-1">\r\n  {{data.template}}\r\n  <mat-form-field>\r\n    <input matInput [placeholder]="data.label" [(ngModel)]="inputValue">\r\n    <mat-hint>{{data.hint}}</mat-hint>\r\n  </mat-form-field>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions align="end">\r\n  <button mat-button [mat-dialog-close]="false">{{data.cancelLabel}}</button>\r\n  <button mat-button (click)="complete()">{{data.commitLabel}}</button>\r\n</mat-dialog-actions>\r\n'},"./fs-input/fs-input.component.ts":function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(o,n){e(o,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var i=o("@angular/core"),s=o("@angular/material/dialog"),l=function(){function t(t,e){this.dialogRef=t,this.data=e,this.inputValue=""}return t.prototype.complete=function(){this.dialogRef.close(this.inputValue)},t=n([i.Component({selector:"fs-input",template:o("./fs-input/fs-input.component.html"),styles:[o("./fsprompt.scss")]}),a(1,i.Inject(s.MAT_DIALOG_DATA)),r("design:paramtypes",[s.MatDialogRef,Object])],t)}();e.FsInputComponent=l},"./fs-input/index.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}(o("./fs-input/fs-input.component.ts"))},"./fs-prompt-autocomplete/fs-prompt-autocomplete.component.html":function(t,e){t.exports='<h2 mat-dialog-title>{{data.title}}</h2>\r\n<mat-dialog-content tabindex="-1">\r\n  {{data.template}}\r\n\r\n  <mat-form-field *ngIf="!loading && !error">\r\n    <input aria-label="State" matInput\r\n           [placeholder]="data.label"\r\n           [matAutocomplete]="auto"\r\n           [value]="inputControl"\r\n           [formControl]="inputControl">\r\n    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayWith" (optionSelected)="setSelectedValue($event)">\r\n      <mat-option *ngFor="let item of filteredItems | async" [value]="item">\r\n        <small>{{item.name}}</small>\r\n      </mat-option>\r\n    </mat-autocomplete>\r\n  </mat-form-field>\r\n\r\n  <ng-container *ngIf="loading">Please wait...</ng-container>\r\n  <ng-container *ngIf="error">Something went wrong. Please, try again</ng-container>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions align="end">\r\n  <button mat-button [mat-dialog-close]="false">{{data.cancelLabel}}</button>\r\n  <button mat-button (click)="complete()" *ngIf="!error && !loading">{{data.commitLabel}}</button>\r\n</mat-dialog-actions>\r\n'},"./fs-prompt-autocomplete/fs-prompt-autocomplete.component.ts":function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(o,n){e(o,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var i=o("@angular/core"),s=o("@angular/forms"),l=o("@angular/material/dialog"),c=o("./fsprompt.service.ts"),p=o("rxjs/operators"),f=function(){function t(t,e){this.dialogRef=t,this.data=e,this.inputControl=new s.FormControl("",[]),this.loading=!1,this.items=[],this.error=!1}return t.prototype.ngOnInit=function(){var t=this;this.loadItems(),this.filteredItems=this.inputControl.valueChanges.pipe(p.startWith(""),p.map(function(t){return"string"==typeof t?t:t.name}),p.map(function(e){return e?t.filterItems(e):t.items.slice()}))},t.prototype.complete=function(){this.dialogRef.close(this.result)},t.prototype.setSelectedValue=function(t){t&&(this.result=t.option.value.value)},t.prototype.displayWith=function(t){return t?t.name:void 0},t.prototype.loadItems=function(){var t=this,e=c.FsPrompt.valuesConverter(this.data.values);switch(e.type){case c.ConverterType.observable:this.loading=!0,e.values.subscribe(function(e){t.items=e,t.loading=!1},function(){t.error=!0,t.loading=!1});break;case c.ConverterType.promise:this.loading=!0,e.values.then(function(e){t.items=e,t.loading=!1},function(){t.error=!0,t.loading=!1});break;case c.ConverterType.array:this.items=this.data.values;break;default:this.error=!0}},t.prototype.filterItems=function(t){return this.items.filter(function(e){return 0===e.name.toLowerCase().indexOf(t.toLowerCase())})},t=n([i.Component({selector:"fs-prompt-autocomplete",template:o("./fs-prompt-autocomplete/fs-prompt-autocomplete.component.html"),styles:[o("./fsprompt.scss")]}),a(1,i.Inject(l.MAT_DIALOG_DATA)),r("design:paramtypes",[l.MatDialogRef,Object])],t)}();e.FsPromptAutocompleteComponent=f},"./fs-prompt-autocomplete/index.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}(o("./fs-prompt-autocomplete/fs-prompt-autocomplete.component.ts"))},"./fs-prompt-select/fs-prompt-select.component.html":function(t,e){t.exports='<h2 mat-dialog-title>{{data.title}}</h2>\r\n<mat-dialog-content tabindex="-1">\r\n  {{data.template}}\r\n  <mat-form-field *ngIf="!loading && !error">\r\n    <mat-select [placeholder]="data.label" [(value)]="result">\r\n      <mat-option *ngFor="let item of items" [value]="item.value">\r\n        {{ item.name }}\r\n      </mat-option>\r\n    </mat-select>\r\n    <mat-hint>{{data.hint}}</mat-hint>\r\n  </mat-form-field>\r\n  <ng-container *ngIf="loading">Please wait...</ng-container>\r\n  <ng-container *ngIf="error">Something went wrong. Please, try again</ng-container>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions align="end">\r\n  <button mat-button [mat-dialog-close]="false">{{data.cancelLabel}}</button>\r\n  <button mat-button (click)="complete()" *ngIf="!error && !loading">{{data.commitLabel}}</button>\r\n</mat-dialog-actions>\r\n'},"./fs-prompt-select/fs-prompt-select.component.ts":function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(o,n){e(o,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var i=o("@angular/core"),s=o("@angular/material/dialog"),l=o("./fsprompt.service.ts"),c=function(){function t(t,e){this.dialogRef=t,this.data=e,this.loading=!1,this.items=[],this.error=!1}return t.prototype.ngOnInit=function(){this.loadItems()},t.prototype.complete=function(){this.dialogRef.close(this.result)},t.prototype.loadItems=function(){var t=this,e=l.FsPrompt.valuesConverter(this.data.values);switch(e.type){case l.ConverterType.observable:this.loading=!0,e.values.subscribe(function(e){t.items=e,t.loading=!1},function(){t.error=!0,t.loading=!1});break;case l.ConverterType.promise:this.loading=!0,e.values.then(function(e){t.items=e,t.loading=!1},function(){t.error=!0,t.loading=!1});break;case l.ConverterType.array:this.items=this.data.values;break;default:this.error=!0}},t=n([i.Component({selector:"fs-prompt-select",template:o("./fs-prompt-select/fs-prompt-select.component.html"),styles:[o("./fsprompt.scss")]}),a(1,i.Inject(s.MAT_DIALOG_DATA)),r("design:paramtypes",[s.MatDialogRef,Object])],t)}();e.FsPromptSelectComponent=c},"./fs-prompt-select/index.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}(o("./fs-prompt-select/fs-prompt-select.component.ts"))},"./fsprompt.scss":function(t,e){},"./fsprompt.service.ts":function(t,e,o){"use strict";var n=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=o("@angular/core"),i=o("@angular/material/dialog"),s=o("./fs-confirm/fs-confirm.component.ts"),l=o("./fs-input/fs-input.component.ts"),c=o("./fs-prompt-select/fs-prompt-select.component.ts"),p=o("./fs-prompt-autocomplete/fs-prompt-autocomplete.component.ts"),f=o("./configs/fsprompt.config.ts"),u=o("./configs/fsprompt-confirm.config.ts");o("rxjs/add/observable/of"),o("rxjs/add/operator/switchMap");var m,d=o("rxjs/Observable");!function(t){t[t.confirm=0]="confirm",t[t.input=1]="input",t[t.select=2]="select",t[t.autocomplete=3]="autocomplete"}(m=e.PromptType||(e.PromptType={}));var g;!function(t){t[t.observable=0]="observable",t[t.promise=1]="promise",t[t.array=2]="array"}(g=e.ConverterType||(e.ConverterType={}));var h=function(){function t(t){this.dialog=t}return t.valuesConverter=function(t){return"[object Function]"===Object.prototype.toString.call(t)?this.valuesConverter(t()):t instanceof d.Observable?{type:g.observable,values:t}:!t||"object"!=typeof t&&"function"!=typeof t||"function"!=typeof t.then?!!Array.isArray(t)&&{type:g.array,values:t}:{type:g.promise,values:t}},t.prototype.confirm=function(t){void 0===t&&(t={});var e=new u.FsPromptConfirmConfig(t);return this.open(e,m.confirm)},t.prototype.input=function(t){void 0===t&&(t={});var e=new f.FsPromptConfig(t);return this.open(e,m.input)},t.prototype.select=function(t){void 0===t&&(t={});var e=new f.FsPromptConfig(t);return this.open(e,m.select)},t.prototype.autocomplete=function(t){void 0===t&&(t={});var e=new f.FsPromptConfig(t);return this.open(e,m.autocomplete)},t.prototype.open=function(t,e){switch(e){case m.confirm:return this.dialog.open(s.FsConfirmComponent,t.dialogConfig).afterClosed().switchMap(function(t){return t?d.Observable.of(t):d.Observable.throw("error")});case m.input:return this.dialog.open(l.FsInputComponent,t.dialogConfig).afterClosed();case m.select:return this.dialog.open(c.FsPromptSelectComponent,t.dialogConfig).afterClosed();case m.autocomplete:return this.dialog.open(p.FsPromptAutocompleteComponent,t.dialogConfig).afterClosed();default:return d.Observable.throw("Erorr")}},t=n([a.Injectable(),r("design:paramtypes",[i.MatDialog])],t)}();e.FsPrompt=h},"./index.ts":function(t,e,o){"use strict";function n(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}Object.defineProperty(e,"__esModule",{value:!0}),n(o("./fs-dialog.module.ts")),n(o("./configs/index.ts")),n(o("./fs-confirm/index.ts")),n(o("./fs-input/index.ts")),n(o("./fs-prompt-autocomplete/index.ts")),n(o("./fs-prompt-select/index.ts")),n(o("./fsprompt.service.ts"))},"@angular/common":function(t,e){t.exports=s},"@angular/core":function(e,o){e.exports=t},"@angular/forms":function(t,e){t.exports=a},"@angular/material":function(t,e){t.exports=l},"@angular/material/dialog":function(t,o){t.exports=e},"rxjs/Observable":function(t,e){t.exports=r},"rxjs/add/observable/of":function(t,e){t.exports=o},"rxjs/add/operator/switchMap":function(t,e){t.exports=n},"rxjs/operators":function(t,e){t.exports=i}})});